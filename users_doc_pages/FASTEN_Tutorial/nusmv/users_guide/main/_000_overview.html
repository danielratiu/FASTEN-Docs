<?xml version = "1.0" encoding = "utf-8"?>
<html>
  <head>
    <meta charset="utf-8"></meta>
    <title>_000_overview</title>
    <style type="text/css">html{
font-family : sans-serif;
line-height : 120%;
}
a{
text-decoration : none;
}
.tableContainer{
}
.table{
}
.tablecaption{
}
table.inline{
}
table{
border-collapse : collapse;
}
td,th{
border : 1px solid grey;
padding : 0.5ex;
}
.tableOfContents{
}
.tocChapter{
margin-left : 2em;
}
.tocSection{
margin-left : 1em;
}
.section{
}
.codeblockContainer{
border : 2px solid grey;
padding : .5em;
overflow : auto;
margin : 1em 0;
}
.codeblock{
display : inline-block;
margin : 0;
}
.codeblock br{
display : none;
}
.originalNode::before{
content : "⬈";
display : inline-block;
padding-left : .1em;
}
.cref::after{
content : "⬈";
padding-left : .1em;
}
.greyBox{
background-color : lightgrey;
padding : 0.5em;
}
.imagecontainer{
margin : 1em 0;
}
.imagecontainer.border{
border : 2px solid grey;
padding : .5em;
}
img{
max-width : 100%;
}
.border .caption{
margin-bottom : 0;
padding-bottom : 0;
}
.imagecaption{
}
.caption{
font-size : 80%;
}
.bold{
}
.code{
}
.emph{
}
.keyPress{
-moz-border-radius : .5em;
-webkit-border-radius : .5em;
border-radius : .5em;
-moz-box-shadow : inset 0 1px 3px rgba(0, 0, 0, .7);
-webkit-box-shadow : inset 0 1px 3px rgba(0, 0, 0, .7);
box-shadow : inset 0 1px 3px rgba(0, 0, 0, .7);
background : rgb(240, 240, 240);
color : rgb(40, 40, 40);
display : inline;
display : inline-block;
padding : 0em .2em;
font-size : 80%;
}
.key{
display : inline;
display : inline-block;
min-width : 1em;
padding : .2em .3em;
margin : .2em;
font : normal .85em/1 "Lucida Grande", Lucida, Arial, sans-serif;
text-align : center;
text-decoration : none;
-moz-border-radius : .3em;
-webkit-border-radius : .3em;
border-radius : .3em;
border : none;
cursor : default;
-moz-user-select : none;
-webkit-user-select : none;
user-select : none;
}
.key{
background : rgb(80,80,80);
background : -moz-linear-gradient(top, rgb(60, 60, 60), rgb(80, 80, 80));
background : -webkit-gradient(linear, left top, left bottom, from(rgb(60, 60, 60)), to(rgb(80, 80, 80)));
color : rgb(250,250,250);
text-shadow : -1px -1px 0 rgb(70, 70, 70);
-moz-box-shadow : inset 0 0 1px rgb(150, 150, 150), inset 0 -.05em .4em rgb(80, 80, 80), 0 .1em 0 rgb(30, 30, 30), 0 .1em .1em rgba(0, 0, 0, .3);
-webkit-box-shadow : inset 0 0 1px rgb(150, 150, 150), inset 0 -.05em .4em rgb(80, 80, 80), 0 .1em 0 rgb(30, 30, 30), 0 .1em .1em rgba(0, 0, 0, .3);
box-shadow : inset 0 0 1px rgb(150, 150, 150), inset 0 -.05em .4em rgb(80, 80, 80), 0 .1em 0 rgb(30, 30, 30), 0 .1em .1em rgba(0, 0, 0, .3);
}
.math{
background-color : light-blue;
}
.menu{
background-color : green;
}
.menuClick{
-moz-box-shadow : inset 0 1px 3px rgba(0, 0, 0, .7);
-webkit-box-shadow : inset 0 1px 3px rgba(0, 0, 0, .7);
box-shadow : inset 0 1px 3px rgba(0, 0, 0, .7);
background : rgb(240, 240, 240);
color : rgb(40, 40, 40);
display : inline;
display : inline-block;
padding : 0em 0.2em;
font-size : 80%;
}
.menuItem{
display : inline;
display : inline-block;
min-width : 1em;
padding : .2em .3em;
margin : 0 .2em;
min-height : 1.2em;
font : normal .85em/1 "Lucida Grande", Lucida, Arial, sans-serif;
text-align : center;
text-decoration : none;
cursor : default;
-moz-user-select : none;
-webkit-user-select : none;
user-select : none;
background : rgb(0,0,240);
background : -moz-linear-gradient(top, rgb(0, 0, 220), rgb(0, 0, 240));
background : -webkit-gradient(linear, left top, left bottom, from(rgb(0, 0, 220)), to(rgb(0, 0, 240)));
color : rgb(250,250,250);
text-shadow : -1px -1px 0 rgb(70, 70, 70);
}
.url{
text-decoration : underline;
}
.attachment{
}
.footnoteOrigin{
}
.footnoteText{
border-top : 1px solid lightgrey;
padding-top : 4px;
font-size : 80%;
}
.footnoteText+.footnoteText{
border-top : 0;
}
.imgRef{
}
.sectRef{
}
.docRef{
}
.todo{
background-color : yellow;
}
.cref{
}
.superscript{
}
</style>
  </head>
  <body>
    <div>
      <h1 id="toc" class="tableOfContents">Table of Contents</h1>
      <div class="tocChapter">
        <strong><a href="#sid2707707741264560810">1 NuSMV Base Language</a></strong>
        <div class="tocSection">
          <a href="#sid2707707741264559321">1.1 Differences w.r.t. NuSMV Language Specification</a>
        </div>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2399760611549431614">2 NuSMV Extensions Language</a></strong>
        <div class="tocSection">
          <a href="#sid2399760611549431634">2.1 Optional Types for Module Parameters</a>
        </div>
        <div class="tocSection">
          <a href="#sid2399760611549431941">2.2 Type Aliases</a>
        </div>
        <div class="tocSection">
          <a href="#sid2399760611549431993">2.3 Structured Types</a>
        </div>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2707707741264560486">3 Unit-testing of modules</a></strong>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid1706414071549062634">4 Realizability of Scenarios</a></strong>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2039615291178693902">5 Describing the Architecture</a></strong>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2039615291178694136">6 Describing the State-Machines</a></strong>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2039615291178696670">7 Specification Using Tables</a></strong>
        <div class="tocSection">
          <a href="#sid8509201373251762250">7.1 Function Tables</a>
        </div>
        <div class="tocSection">
          <a href="#sid8509201373251762885">7.2 Decision Tables Expressions</a>
        </div>
        <div class="tocSection">
          <a href="#sid8509201373251764212">7.3 Tabular Expressions</a>
        </div>
        <div class="tocSection">
          <a href="#sid8509201373251764751">7.4 Actions Table</a>
        </div>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2039615291178696800">8 Verification Cases</a></strong>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2039615291178696822">9 Operator Panels</a></strong>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2039615291178696882">10 Components-based Design</a></strong>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2039615291178696998">11 NuSMV Importer (Experimental)</a></strong>
      </div>
      <div class="tocChapter">
        <strong><a href="#sid2707707741261566803">12 Overview</a></strong>
      </div>
    </div>
    <div>
      <h1 id="sid2707707741264560810" class="section">1 NuSMV Base Language</h1>
      <p class="body">
        This language implements (an ever growing subset of) the NuSMV language specification. Each NuSMV specification resides in an <code class="code">system</code> root node. In the figure below is an example of a <code class="code">system</code> containing two modules. From each <code class="code">system</code> we generate a &apos;.smv&apos; file which will be subsequently used as input to NuSMV.<br/>

      </p>
      <div class="imagecontainer border" id="sid2039615291178676535">
        <div class="imageWithBorder">
          <img src="..\..\..\figures/_000_overview_Binary_Counter.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            1-A: </b>Example of a specification written in plain SMV.<a href="http://127.0.0.1:63320/node?ref=r%3A0eb0cd32-f456-4fb2-b2bf-88e1b019b19d%28_010_features._010_nusmv_base%29%2F1989356068341511649" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <div>
        <h2 id="sid2707707741264559321" class="section">1.1 Differences w.r.t. NuSMV Language Specification</h2>
        <p class="body">We tried to keep the differences as small as possible such that the semantics gets preserved. There are however a handful of differences as explained below:</p>
        <ul>
          <li>
            when a verification is performed, the NuSMV tool takes a single file as input. The entire system then must be contained in a single file. <code class="code">mbeddr.nusmv</code> overcomes this limitation and allows the definition of modules in different <code class="code">system</code> nodes. During code generation, we take care that only one file is generated and this file is self-contained (all modules needed will be copied there). 
          </li>
        </ul>
      </div>
    </div>
    <div>
      <h1 id="sid2399760611549431614" class="section">2 NuSMV Extensions Language</h1>
      <p class="body">
        The language <code class="code">com.mbeddr.formal.nusmv.ext</code> provides several basic extensions of the SMV language with the following purposes: 1) reduce the redundancy of models; 2) allow richer type checks and IDE support 
      </p>
      <div>
        <h2 id="sid2399760611549431634" class="section">2.1 Optional Types for Module Parameters</h2>
        <p class="body">We provide the option to define typed to module parameters. Whenever types are defined, corresponding type checks are available.<br/>
</p>
        <div class="imagecontainer border" id="sid2039615291178680347">
          <div class="imageWithBorder">
            <img src="..\..\..\figures/_000_overview_typed_parameters.png" />
          </div>
          <div class="imagecaption">
            <p class="caption">
              <b>Figure
              2.1-A: </b>Example of a module with typed parameters.<a href="http://127.0.0.1:63320/node?ref=r%3A7a8f5dbf-f084-4c9f-bfbe-b41ce5171f9d%28_010_features._015_nusmv_ext%29%2F2399760611549429881" class="originalNode" title="open in MPS"></a>
            </p>
          </div>
        </div>
      </div>
      <div>
        <h2 id="sid2399760611549431941" class="section">2.2 Type Aliases</h2>
        <p class="body">
          In order to capture explicitly the intent of a certain type, FASTEN allows the definition of aliases for it using a <code class="code">typedef</code>. An alias works effectively as a subtype - thereby, two variables with types defined by two typedefs cannot be assigned to each other. For example, in the figure below, one cannot assign <code class="code">time</code> to <code class="code">my_dist</code>.<br/>

        </p>
        <div class="imagecontainer border" id="sid2039615291178680450">
          <div class="imageWithBorder">
            <img src="..\..\..\figures/_000_overview_udt_types.png" />
          </div>
          <div class="imagecaption">
            <p class="caption">
              <b>Figure
              2.2-A: </b>Example of the definition and usage of user defined types.<a href="http://127.0.0.1:63320/node?ref=r%3A7a8f5dbf-f084-4c9f-bfbe-b41ce5171f9d%28_010_features._015_nusmv_ext%29%2F2399760611549429631" class="originalNode" title="open in MPS"></a>
            </p>
          </div>
        </div>
      </div>
      <div>
        <h2 id="sid2399760611549431993" class="section">2.3 Structured Types</h2>
        <p class="body">
          FASTEN allows the definition of user defined structured types which are reduced into SMV as modules. The structure members are reduced as variables of the modules. Using <code class="code">struct</code> types drastically shorten the number of parameters of modules. 
        </p>
        <div class="imagecontainer border" id="sid2039615291178680535">
          <div class="imageWithBorder">
            <img src="..\..\..\figures/_000_overview_udt_struct.png" />
          </div>
          <div class="imagecaption">
            <p class="caption">
              <b>Figure
              2.3-A: </b>Definition of structured types.<a href="http://127.0.0.1:63320/node?ref=r%3A7a8f5dbf-f084-4c9f-bfbe-b41ce5171f9d%28_010_features._015_nusmv_ext%29%2F2399760611549432142" class="originalNode" title="open in MPS"></a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div>
      <h1 id="sid2707707741264560486" class="section">3 Unit-testing of modules</h1>
      <p class="body">
        Once a module is defined, we allow writing of unit-tests. The unit-tests language considers the inputs of the module to be the parameters and the outputs the definitions. From each test-case we generate a &apos;.smv&apos; file and the tests are run by calling NuSMV on the generated file.<br/>
<br/>
Test cases are organized in <code class="code">test collections</code>. For executing a test-case, please right-click on a <code class="code">test case</code> node and call <em class="emph">Run NuSMV on Test-Case</em>. We allow also running all tests defined in a collection (see figure below) or all test collections defined in a model.
      </p>
      <div class="imagecontainer" id="sid2707707741264559736">
        <div class="image">
          <img src="..\..\..\figures/nusmv_tests_execution.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            3-A: </b>The execution of tests happens by calling NuSMV on the generated files corresponding to each test-case.<a href="http://127.0.0.1:63320/node?ref=r%3Adc2f2276-db8a-4c75-a8c5-c04c514cae35%28_010_features._020_nusmv_unit_tests%29%2F2707707741261573090" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">Each test-case references the module which it tests. Inputs are the parameters of the module, outputs are the definitions. Each test-case contains a set of test steps - in the figure below is an example of a failed test case (i.e. test3) due to the fact that the expected value of the third step is different from the current value.</p>
      <div class="imagecontainer" id="sid2707707741264559745">
        <div class="image">
          <img src="..\..\..\figures/nusmv_tests_overview.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            3-B: </b>The system under test is a NuSMV module (left); a test collection with a set of test-cases (center); the results of running the tests (right). <a href="http://127.0.0.1:63320/node?ref=r%3Adc2f2276-db8a-4c75-a8c5-c04c514cae35%28_010_features._020_nusmv_unit_tests%29%2F2707707741261573090" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">
        Users have the possibility to specify test-cases in a more generic fashion by chosing for a certain step and a certain input <code class="code">AnyVal</code> symbolized with <strong class="bold">*</strong> and for outputs <code class="code">DontCare</code> symbolized with <strong class="bold">#</strong>. 
      </p>
      <div class="imagecontainer" id="sid5430620409975739760">
        <div class="image">
          <img src="..\..\..\figures/nusmv_generalized_tests.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            3-C: </b>For certain steps we can specify that a certain input can take any value (*) with a given type specified in the inspector. Furthermore, by using hash (#) we can specify that we are not interested about the value of a certain output. <a href="http://127.0.0.1:63320/node?ref=r%3Adc2f2276-db8a-4c75-a8c5-c04c514cae35%28_010_features._020_nusmv_unit_tests%29%2F4613921340550946606" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">
        The test vector is expressed as an LTL property (we generate a property with form <code class="code">actual_out1 = expected_out1 &amp; X actual_out1 = expected_out1 &amp; X X actual_out1 = expected_out1 &amp; ...</code> to ensure that despite the eventual non-determinism in the model, the outputs are as expected). Running the test means the verification of this property (using BMC or BDD based model checking).
      </p>
      <div class="imagecontainer" id="sid5430620409975741040">
        <div class="image">
          <img src="..\..\..\figures/nusmv_tests_checking.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            3-D: </b>Checking of tests is done by verifying the associated property..<a href="http://127.0.0.1:63320/node?ref=r%3A272c7e50-c3af-4365-bda8-43f746c4aee3%28_010_features._100_nusmv_operators_panels%29%2F442732762728495378" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
    </div>
    <div>
      <h1 id="sid1706414071549062634" class="section">4 Realizability of Scenarios</h1>
      <p class="body">
        Unit tests check that given a set of values for the inputs, the system produces as outputs exactly the desired values (if they are not specified as &quot;don&apos;t care&quot;). The unit tests assumes that the system is deterministic.<br/>
<br/>
If the specified system contains non-determinism, then multiple outputs are possible for the same input values. In this case, unit tests do not help - we provide a similar construct <code class="code">available scenario</code> which specifies a scenario (values for inputs and outputs) and we can check if this scenario is realizable in the system.
      </p>
      <div class="imagecontainer" id="sid1706414071549074635">
        <div class="image">
          <img src="..\..\..\figures/nusmv_tests_allowed_scenarios.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            4-A: </b>Example of two allowed scenarios for a system containing nondeterminism. <a href="http://127.0.0.1:63320/node?ref=r%3Adc2f2276-db8a-4c75-a8c5-c04c514cae35%28_010_features._020_nusmv_unit_tests%29%2F1706414071549040696" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
    </div>
    <div>
      <h1 id="sid2039615291178693902" class="section">5 Describing the Architecture</h1>
      <p class="body">We created a DSL which restricts the NuSMV base language in order to describe architectures.</p>
      <ul>
        <li>
          <strong class="bold">components</strong> are NuSMV variables with modules types
        </li>
        <li>
          <strong class="bold">input ports</strong> are parameters of NuSMV modules
        </li>
        <li>
          <strong class="bold">output ports</strong> are definitions of the module which are marked with <em class="emph">output</em>
          
        </li>
        <li>
          <strong class="bold">channels</strong> are actual parameters
        </li>
      </ul>
      <p class="body">
        In the figure below we illustrate an architecture in textual projection and the correponding generated code. When an architecture is defined, the <code class="code">VAR</code> section of a module is replaced by a <code class="code">WIRING</code> section. The <code class="code">WIRING</code> section behaves like a restricted <code class="code">VAR</code> - actual parameters can be either constants, parameters of the containing module or definitions contained in peer module instances. Certain definitions of a module can be declared to be &quot;outputs&quot; by using the &quot;output&quot; concept.
      </p>
      <div class="imagecontainer" id="sid2707707741264568898">
        <div class="image">
          <img src="..\..\..\figures/nusmv_arch_textual_notation.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            5-A: </b>Architecture description in textual projection (left); corresponding generated code (right)<a href="http://127.0.0.1:63320/node?ref=484f66a2-6060-4854-8c48-23d95c0e33cf%2Fi%3A10000001%28com.mbeddr.formal.nusmv.users_guide%40transient34%2Fnusmv.users_guide.main%400%29%2F2707707741264560214" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">
        Via the <strong class="bold">Notation -&gt; Architecture Diagram View</strong> menu, one can switch to the diagramatic projection of architectures.
      </p>
      <div class="imagecontainer" id="sid2707707741264570501">
        <div class="image">
          <img src="..\..\..\figures/nusmv_arch_projection_switch.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            5-B: </b>One can switch between textual and diagramatic notations by using the <strong class="bold">Projection</strong> menu. This menu will be active only if an editor containing a <code class="code">WIRING</code> section is focused.<a href="http://127.0.0.1:63320/node?ref=484f66a2-6060-4854-8c48-23d95c0e33cf%2Fi%3A10000001%28com.mbeddr.formal.nusmv.users_guide%40transient34%2Fnusmv.users_guide.main%400%29%2F2707707741264560214" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">
        In figure below we illustrate the diagramatic notation for the Sender - Receiver example. Using drag-and-drop from the <code class="code">Diagram Palette</code> one can add new elements. Deleting of component instances or channels is possible as well.
      </p>
      <div class="imagecontainer" id="sid2707707741264571865">
        <div class="image">
          <img src="..\..\..\figures/nusmv_arch_diagramatic_notation.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            5-C: </b>Example of the diagramatic notation. One can edit the architecture in the diagramatic form by using drag-and-drop.<a href="http://127.0.0.1:63320/node?ref=484f66a2-6060-4854-8c48-23d95c0e33cf%2Fi%3A10000001%28com.mbeddr.formal.nusmv.users_guide%40transient34%2Fnusmv.users_guide.main%400%29%2F2707707741264560214" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">
        In the case when a module is specified via a function-table, then the function values must be marked as <em class="emph">output</em> to be considered as ports.
      </p>
      <div class="imagecontainer" id="sid9207208966915452572">
        <div class="image">
          <img src="..\..\..\figures/nusmv_arch_from_modules_with_tabular_spec.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            5-D: </b>Example of an architecture with components being modules with specified as tables. The function outputs marked as &apos;output&apos; are seen as ports.
          </p>
        </div>
      </div>
    </div>
    <div>
      <h1 id="sid2039615291178694136" class="section">6 Describing the State-Machines</h1>
      <p class="body">We created a DSL which restricts the NuSMV base language in order to describe Mealey state-machines (i.e. actions <br/>
are exclussively associated with transitions). </p>
      <ul>
        <li>
          <strong class="bold">current state</strong> is a variable named &apos;_state_&apos; with enumeration type
        </li>
        <li>
          <strong class="bold">states</strong> are members of the enumeration which is the type of the current state variable
        </li>
        <li>
          <strong class="bold">transitions guards</strong> are the expressions used when defining the <code class="code">next(_state_)</code>
          
        </li>
        <li>
          <strong class="bold">actions</strong> are changes of additional state variables
        </li>
      </ul>
      <p class="body">
        In the figure below we illustrate the definition of a <code class="code">STATE-MACHINE</code> section for a traffic-lights controller in textual notation. <br/>
The transitions are encoded via a higher-level construct similar to a <code class="code">case</code> - the guards of different cases are defined only on <br/>
the state variable and are only referenced for the other variables. The <code class="code">otherwise</code> branch ensures that the corresponding variable<br/>
does not change when no transition is taken (aka. Mealey automata).
      </p>
      <div class="imagecontainer" id="sid2707707741264636229">
        <div class="image">
          <img src="..\..\..\figures/nusmv_sm_textual_notation.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            6-A: </b>State-machine description in textual projection.<a href="http://127.0.0.1:63320/node?ref=484f66a2-6060-4854-8c48-23d95c0e33cf%2Fi%3A10000001%28com.mbeddr.formal.nusmv.users_guide%40transient34%2Fnusmv.users_guide.main%400%29%2F2707707741264636168" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">
        Via the <strong class="bold">Notation -&gt; State-machine Diagram View</strong> menu, one can switch to the diagramatic projection of state-machines. Using drag-and-drop from the <code class="code">Diagram Palette</code> one can add new states. New transitions can be created by selecting the source state, clicking on the + icon and dragging to the target state. 
      </p>
      <div class="imagecontainer" id="sid2707707741264636263">
        <div class="image">
          <img src="..\..\..\figures/nusmv_sm_diagramatic_notation.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            6-B: </b>Example of the diagramatic notation for state-machines. The STATE-MACHINE section is projected as a diagram, everything else remains the same.<a href="http://127.0.0.1:63320/node?ref=484f66a2-6060-4854-8c48-23d95c0e33cf%2Fi%3A10000001%28com.mbeddr.formal.nusmv.users_guide%40transient34%2Fnusmv.users_guide.main%400%29%2F2707707741264636168" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
    </div>
    <div>
      <h1 id="sid2039615291178696670" class="section">7 Specification Using Tables</h1>
      <div>
        <h2 id="sid8509201373251762250" class="section">7.1 Function Tables</h2>
        <p class="body">
          We created a DSL which implements function-tables. A <code class="code">FUNCTION-TABLE</code> section is a specialization of the <code class="code">DEFINE</code> section. In the figure below we illustrate the definition of a <code class="code">FUNCTION-TABLE</code> for computing a one bit full adder. 
        </p>
        <div class="imagecontainer" id="sid2707707741265227958">
          <div class="image">
            <img src="..\..\..\figures/nusmv_function_table.png" />
          </div>
          <div class="imagecaption">
            <p class="caption">
              <b>Figure
              7.1-A: </b>A function table which implements a one-bit full adder.<a href="http://127.0.0.1:63320/node?ref=r%3A0b49ab2d-45c1-47fe-8808-b4208a25675e%28_010_features._050_nusmv_tables%29%2F2707707741265228126" class="originalNode" title="open in MPS"></a>
            </p>
          </div>
        </div>
      </div>
      <div>
        <h2 id="sid8509201373251762885" class="section">7.2 Decision Tables Expressions</h2>
        <p class="body">
          Many expressions depend on two complex conditions which are orthogonal. For these cases we provide a DSL which implements a <code class="code">decision table expression</code>. A decision table expression is reduced to a complex conditional expression. 
        </p>
        <div class="imagecontainer" id="sid8509201373251762952">
          <div class="image">
            <img src="..\..\..\figures/nusmv_tabular_decision_table.PNG" />
          </div>
          <div class="imagecaption">
            <p class="caption">
              <b>Figure
              7.2-A: </b>A decision table expression.<a href="http://127.0.0.1:63320/node?ref=r%3A0b49ab2d-45c1-47fe-8808-b4208a25675e%28_010_features._050_nusmv_tables%29%2F8509201373251017334" class="originalNode" title="open in MPS"></a>
            </p>
          </div>
        </div>
      </div>
      <div>
        <h2 id="sid8509201373251764212" class="section">7.3 Tabular Expressions</h2>
        <p class="body">The value of an expression depends sometimes on complex imbricated conditions. For these situations, we have defined tabular expressions.</p>
        <div class="imagecontainer" id="sid8509201373251764321">
          <div class="image">
            <img src="..\..\..\figures/nusmv_tabular_tabular_expression.PNG" />
          </div>
          <div class="imagecaption">
            <p class="caption">
              <b>Figure
              7.3-A: </b>Tabular expression can be used for any number of levels of imbrication of conditions.<a href="http://127.0.0.1:63320/node?ref=r%3A0b49ab2d-45c1-47fe-8808-b4208a25675e%28_010_features._050_nusmv_tables%29%2F8509201373251550896" class="originalNode" title="open in MPS"></a>
            </p>
          </div>
        </div>
      </div>
      <div>
        <h2 id="sid8509201373251764751" class="section">7.4 Actions Table</h2>
        <p class="body">
          Complex changes in the internal state of a module depending on complex conditions can be modeled with <code class="code">ACTIONS-TABLE</code> sections.
        </p>
        <div class="imagecontainer" id="sid8509201373251764755">
          <div class="image">
            <img src="..\..\..\figures/nusmv_tabular_action_table.PNG" />
          </div>
          <div class="imagecaption">
            <p class="caption">
              <b>Figure
              7.4-A: </b>Actions tables model complex changes of states of a <code class="code">MODULE</code> depending on cascades of complex conditions.<a href="http://127.0.0.1:63320/node?ref=r%3A0b49ab2d-45c1-47fe-8808-b4208a25675e%28_010_features._050_nusmv_tables%29%2F8509201373251583484" class="originalNode" title="open in MPS"></a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div>
      <h1 id="sid2039615291178696800" class="section">8 Verification Cases</h1>
      <p class="body">We extend the unit testing DSL with the possibility to run test vectors after the system under verification reaches a certain state (i.e. the initial condition after which the tests are started). </p>
      <div class="imagecontainer" id="sid7048752955231296677">
        <div class="image">
          <img src="..\..\..\figures/nusmv_verification_cases.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            8-A: </b>A verification case first brings the system in a certain state and only after this the tests are run<a href="http://127.0.0.1:63320/node?ref=r%3A7c8a192c-7615-4a1b-a608-a18a83365e6b%28_010_features._070_nusmv_verification_cases%29%2F3687734242762611034" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
    </div>
    <div>
      <h1 id="sid2039615291178696822" class="section">9 Operator Panels</h1>
      <p class="body">
        FASTEN provides a DSL for describing operator panels by placing graphical elements on a canvas.    <br/>
In <a href="#sid8088197921486948460" class="imgRef">Fig. 9-A</a> is an example of an operator-panel (left), the model to which it is attached (right) and the glue code which links the simulation values to the dynamic properties of the graphical elements 
      </p>
      <div class="imagecontainer" id="sid8088197921486948460">
        <div class="image">
          <img src="..\..\..\figures/nusmv_operator_panels.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            9-A: </b>An operator panel contains graphical widgets which can have &quot;static&quot; properties or properties which can be changed according to the simulation value of a model element. An adapter makes the link between the current simulation value and the desired value of the property.<a href="http://127.0.0.1:63320/node?ref=r%3A272c7e50-c3af-4365-bda8-43f746c4aee3%28_010_features._100_nusmv_operators_panels%29%2F2707707741267777844" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">The widgets can be organized in lines. Adding left or right siblings of a certain widget in a line can be done by clicking on the widget and opening the intention (Alt+Enter).</p>
      <div class="imagecontainer" id="sid3118481524217814739">
        <div class="image">
          <img src="..\..\..\figures/nusmv_operator_panels_adding_new_widget.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            9-B: </b>New widgets can be added via intentions.<a href="http://127.0.0.1:63320/node?ref=r%3A272c7e50-c3af-4365-bda8-43f746c4aee3%28_010_features._100_nusmv_operators_panels%29%2F8896547661045156535" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">
        Example <a href="http://127.0.0.1:63320/node?ref=r%3A272c7e50-c3af-4365-bda8-43f746c4aee3%28_010_features._100_nusmv_operators_panels%29%2F8896547661045156535" class="cref">_022_instrument_cluster_controller_panel</a> illustrates how to build a simple instrument cluster.
      </p>
    </div>
    <div>
      <h1 id="sid2039615291178696882" class="section">10 Components-based Design</h1>
      <p class="body">
        FASTEN supports the components-based design methodology by allowing to define <em class="emph">component interfaces</em> and <em class="emph">component assemblies</em>. Component assemblies (aka. composite components) are special kinds of interfaces which contain wired children - a child can be an interface or an assembly. The behavior of a component is specified with the help of contracts (pre- and postconditions) expressed using LTL.   
      </p>
      <div class="imagecontainer" id="sid3303063757256142016">
        <div class="image">
          <img src="..\..\..\figures/nusmv_cbd_diagramatic_notation.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            10-A: </b>Example of an architecture defined by interfaces and assemblies. Contracts are annotated and can be checked.<a href="http://127.0.0.1:63320/node?ref=r%3Ad37bd9b7-40a1-410a-8148-61e2d84bead3%28_010_features._300_nusmv_cbd%29%2F1076129070926081794" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
      <p class="body">Once contracts are defined, FASTEN can perform the following compatibility checks:</p>
      <ul>
        <li>Inside a level of the architecture, check that siblings are compatible - i.e. that the preconditions of a component A are fulfilled by the sum of the postconditions of components connected to A and which provide inputs to A.</li>
        <li>In a parent-child decomposition, when the child component receives data from the parent, check that the preconditions of parent fulfill the ones of the child.</li>
        <li>In a parent-child decomposition, when the parent component receives data from the child, check that the postconditions of child fulfill the ones of the parent</li>
        <li>Given an interface and a NuSMV module, FASTEN can check whether this module faithfully implements the interface (i.e. if the postconditions of the interface hold whenever the preconditions hold).</li>
      </ul>
      <div class="imagecontainer" id="sid3303063757256142577">
        <div class="image">
          <img src="..\..\..\figures/nusmv_cbd_ag_analysis_run_and_simulation.png" />
        </div>
        <div class="imagecaption">
          <p class="caption">
            <b>Figure
            10-B: </b>Example of the verification of compatibility of contracts - the Assume/Guarantee (AG) analysis. Analyses results are shown and the counterexamples can be simulated.<a href="http://127.0.0.1:63320/node?ref=r%3Ad37bd9b7-40a1-410a-8148-61e2d84bead3%28_010_features._300_nusmv_cbd%29%2F1076129070926081794" class="originalNode" title="open in MPS"></a>
          </p>
        </div>
      </div>
    </div>
    <p class="body">Checking the contracts can be performed by NuSMV either using the BDDs-based engine (by default) or by using &quot;Bounded Model Checking&quot; verification engine. The figure below illustrates the setting for performing the BMC verification. </p>
    <div class="imagecontainer" id="sid7526568111198572644">
      <div class="image">
        <img src="..\..\..\figures/nusmv_cbd_bmc_verification.png" />
      </div>
      <div class="imagecaption">
        <p class="caption">
          <b>Figure
          null-@: </b>To perform verification using the BMC engine, please check &quot;Use BMC&quot; checkbox in the &quot;Inspector&quot; window associated to the verified &quot;Component Assembly&quot; and specify the depth of the verification (aka. number of steps, bmc length).<a href="http://127.0.0.1:63320/node?ref=r%3Ad37bd9b7-40a1-410a-8148-61e2d84bead3%28_010_features._300_nusmv_cbd%29%2F1076129070926081797" class="originalNode" title="open in MPS"></a>
        </p>
      </div>
    </div>
    <p class="body">
      For specifying the refinement relation between an interface and a NuSMV module, we can use the <code class="code">refinement</code> construct. Currently, all inputs of the interface and all its outputs shall be among the inputs and outputs (defines) of the module. The same names shall be used since matching ports is based on their names. By right-clicking on a <code class="code">refinement</code> node, a menu will pop-up and the analysis canbe started.  
    </p>
    <div class="imagecontainer" id="sid1926100551364466537">
      <div class="image">
        <img src="..\..\..\figures/nusmv_cbd_refinement_check.png" />
      </div>
      <div class="imagecaption">
        <p class="caption">
          <b>Figure
          null-@: </b>Example of a refinement declaration and check.<a href="http://127.0.0.1:63320/node?ref=r%3Ad37bd9b7-40a1-410a-8148-61e2d84bead3%28_010_features._300_nusmv_cbd%29%2F3620932310843141470" class="originalNode" title="open in MPS"></a>
        </p>
      </div>
    </div>
    <div>
      <h1 id="sid2039615291178696998" class="section">11 NuSMV Importer (Experimental)</h1>
      <p class="body">
        FASTEN provides an importer for importing existing files as models as shown in the <a href="http://127.0.0.1:63320/node?ref=r%3A9373994a-6064-48c9-8736-0c6a946eaa23%28_010_features._500_nusmv_importer%29%2F3118481524217816219" class="cref">_010_simple_files_to_import</a>.
      </p>
    </div>
    <div>
      <h1 id="sid2707707741261566803" class="section">12 Overview</h1>
      <p class="body">
        <strong class="bold">FASTEN</strong> contains a set of domain specific languages and tooling used for writing formal specifications and verifying them with the NuSMV tool. The DSLs capture idiomatic usages of the NuSMV language, offer better abstraction, less boilerplate code and intuitive notations. All DSLs are available through the <code class="code">mbeddr.formal.nusmv</code> devkit.<br/>
<br/>
Below is a brief description of the DSLs:
      </p>
      <ul>
        <li>
          <code class="code">com.mbeddr.formal.nusmv</code> - implements the NuSMV language
        </li>
        <li>
          <code class="code">com.mbeddr.formal.nusmv.ext</code> - provides extensions at the abstraction level of SMV to remove redundancy, increase the productivity and enable better IDE support 
        </li>
        <li>
          <code class="code">com.mbeddr.formal.nusmv.tests</code> - is a language to add unit testing functionality to nusmv models
        </li>
        <li>
          <code class="code">com.mbeddr.formal.nusmv.arch</code> - provides language constructs and diagramatic notation for the definition of architectures.
        </li>
        <li>
          <code class="code">com.mbeddr.formal.nusmv.sm</code> - provides language constructs for defining state-machines
        </li>
        <li>
          <code class="code">com.mbeddr.formal.nusmv.tabular</code> - provides language constructs for table-based specification
        </li>
        <li>
          <code class="code">com.mbeddr.formal.nusmv.verification_cases</code> - an extension of the testing language with the possibility to create tests to be run from a certain state of the system
        </li>
        <li>
          <code class="code">com.mbeddr.formal.operatorspanel</code> - provides language constructs for defining UIs and linking them to formal models
        </li>
        <li>
          <code class="code">com.mbeddr.formal.importer</code> - (experimental) support for importing existing SMV models
        </li>
      </ul>
    </div>
  </body>
</html>